<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Snake Game / è´ªåƒè›‡</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
            touch-action: none;
        }
        .game-wrapper { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; padding: 20px; touch-action: none; }
        .game-container, .controls-section {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 25px;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 25px 80px rgba(0,0,0,0.4);
            touch-action: none;
        }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; }
        h1 { color: #fff; font-size: 1.5em; }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.9em;
        }
        .btn:hover { transform: translateY(-2px); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn.active { background: linear-gradient(135deg, #11998e, #38ef7d); }
        .btn-danger { background: linear-gradient(135deg, #f093fb, #f5576c); }
        .btn-group { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px; }
        .score-board { display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center; }
        .score-item {
            background: rgba(102,126,234,0.3);
            padding: 12px 20px;
            border-radius: 12px;
            text-align: center;
            min-width: 100px;
        }
        .score-label { color: rgba(255,255,255,0.7); font-size: 0.8em; display: block; }
        .score-value { color: #fff; font-size: 1.5em; font-weight: bold; }
        #gameCanvas { border: 4px solid rgba(102,126,234,0.6); border-radius: 15px; background: #1a1a2e; display: block; }
        .controls-section { min-width: 280px; max-width: 320px; }
        .section-title { color: #fff; font-size: 1.2em; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid rgba(102,126,234,0.5); }
        .control-label { color: rgba(255,255,255,0.8); margin-bottom: 10px; display: block; font-size: 0.9em; }
        .keyboard-hint { display: grid; grid-template-columns: repeat(3, 50px); gap: 5px; max-width: 160px; margin: 10px auto; }
        .key { background: rgba(255,255,255,0.15); padding: 8px; border-radius: 8px; text-align: center; color: rgba(255,255,255,0.9); font-size: 0.8em; }
        .key.empty { background: transparent; }
        .stats-list { color: rgba(255,255,255,0.9); font-size: 0.85em; }
        .stat-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .stat-value { color: #fff; font-weight: bold; }
        .sound-toggle {
            position: fixed; top: 15px; right: 15px;
            background: rgba(255,255,255,0.1);
            border: none; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1.2em;
        }
        .pause-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            display: none; justify-content: center; align-items: center; border-radius: 15px;
        }
        .pause-text { color: #fff; font-size: 1.5em; }
        
        /* Modal styles */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            display: none; justify-content: center; align-items: center; z-index: 1000;
            padding: 20px;
        }
        .modal.show { display: flex; }
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 30px; border-radius: 20px;
            border: 2px solid rgba(102,126,234,0.5);
            max-width: 90%; width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }
        .modal-close {
            position: absolute; top: 15px; right: 15px;
            background: rgba(255,255,255,0.1);
            border: none; color: white; font-size: 1.5em;
            width: 40px; height: 40px; border-radius: 50%; cursor: pointer;
        }
        .modal-close:hover { background: rgba(255,255,255,0.2); }
        .modal-title { color: #fff; font-size: 1.8em; margin-bottom: 20px; padding-right: 40px; }
        .modal-body { color: rgba(255,255,255,0.9); line-height: 1.8; text-align: left; }
        .modal-body h2 { color: #fff; margin: 25px 0 15px; font-size: 1.3em; }
        .modal-body h3 { color: #667eea; margin: 20px 0 10px; }
        .modal-body a { color: #667eea; }
        .modal-body ul { margin-left: 20px; margin-bottom: 15px; }
        .modal-body p { margin-bottom: 15px; }
        .contact-box {
            background: rgba(102,126,234,0.2);
            padding: 20px; border-radius: 15px;
            margin-top: 25px;
        }
        canvas { position: relative; }
        
        /* Language toggle */
        .lang-btn {
            position: fixed; top: 15px; left: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white; border: none; padding: 10px 15px; border-radius: 20px; cursor: pointer; font-size: 0.85em;
        }
        
        /* Bilingual classes */
        body.lang-zh .en { display: none; }
        body.lang-en .zh { display: none; }
        
        /* Footer nav */
        .footer-nav {
            margin-top: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            text-align: center;
        }
        .footer-nav h3 { color: rgba(255,255,255,0.8); margin-bottom: 15px; font-size: 1em; }
        .footer-links { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; }
        .footer-link {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
            font-size: 0.85em;
            border: none;
            cursor: pointer;
        }
        .footer-link:hover { background: rgba(102,126,234,0.3); color: white; }
        
        /* Mobile controls */
        .mobile-controls { display: none; margin-top: 15px; }
        @media (max-width: 900px) {
            .game-wrapper { flex-direction: column; align-items: center; }
            .controls-section { width: 100%; max-width: 500px; }
            .mobile-controls { display: block; }
        }
        .mobile-dpad { display: grid; grid-template-columns: repeat(3, 50px); gap: 5px; justify-content: center; margin-top: 10px; }
        .mobile-btn {
            background: rgba(102,126,234,0.5);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px; color: white; font-size: 1.2em;
            padding: 10px; cursor: pointer;
        }
        .mobile-btn:active { background: linear-gradient(135deg, #667eea, #764ba2); }
        
        /* Scrollbar */
        .modal-content::-webkit-scrollbar { width: 8px; }
        .modal-content::-webkit-scrollbar-track { background: rgba(255,255,255,0.1); border-radius: 4px; }
        .modal-content::-webkit-scrollbar-thumb { background: #667eea; border-radius: 4px; }
    </style>
</head>
<body class="lang-zh">
    <button class="lang-btn" onclick="toggleLang()">ğŸ‡¨ğŸ‡³/ğŸ‡ºğŸ‡¸ ä¸­/EN</button>
    <button class="sound-toggle" onclick="toggleSound()">ğŸ”Š</button>

    <div class="game-wrapper">
        <div class="game-container">
            <div class="header">
                <h1>ğŸ <span class="zh">è´ªåƒè›‡</span><span class="en">Snake Game</span></h1>
            </div>
            <div class="score-board">
                <div class="score-item">
                    <span class="score-label"><span class="zh">åˆ†æ•°</span><span class="en">Score</span></span>
                    <span class="score-value" id="score">0</span>
                </div>
                <div class="score-item">
                    <span class="score-label"><span class="zh">æœ€é«˜</span><span class="en">Best</span></span>
                    <span class="score-value" id="highScore">0</span>
                </div>
                <div class="score-item">
                    <span class="score-label"><span class="zh">ç­‰çº§</span><span class="en">Level</span></span>
                    <span class="score-value" id="level">1</span>
                </div>
            </div>
            <div style="position: relative;">
                <canvas id="gameCanvas" width="400" height="400"></canvas>
                <div class="pause-overlay" id="pauseOverlay">
                    <span class="pause-text"><span class="zh">â¸ï¸ å·²æš‚åœ</span><span class="en">â¸ï¸ Paused</span></span>
                </div>
            </div>
        </div>

        <div class="controls-section">
            <h3 class="section-title"><span class="zh">ğŸ® æ§åˆ¶</span><span class="en">ğŸ® Controls</span></h3>

            <div class="control-label"><span class="zh">å¼€å§‹/æš‚åœ</span><span class="en">Start/Pause</span></div>
            <div class="btn-group">
                <button class="btn" id="startBtn" onclick="startGame()">
                    <span class="zh">ğŸ® å¼€å§‹</span><span class="en">ğŸ® Start</span>
                </button>
                <button class="btn" onclick="togglePause()" id="pauseBtn" disabled>
                    <span class="zh">â¸ï¸ æš‚åœ</span><span class="en">â¸ï¸ Pause</span>
                </button>
            </div>

            <div class="control-label"><span class="zh">éš¾åº¦</span><span class="en">Difficulty</span></div>
            <div class="btn-group">
                <button class="btn active" onclick="setDiff('easy')" id="easyBtn"><span class="zh">ç®€å•</span><span class="en">Easy</span></button>
                <button class="btn" onclick="setDiff('normal')" id="normalBtn"><span class="zh">æ™®é€š</span><span class="en">Normal</span></button>
                <button class="btn btn-danger" onclick="setDiff('hard')" id="hardBtn"><span class="zh">å›°éš¾</span><span class="en">Hard</span></button>
            </div>

            <div class="control-label"><span class="zh">âŒ¨ï¸ é”®ç›˜</span><span class="en">âŒ¨ï¸ Keyboard</span></div>
            <div class="keyboard-hint">
                <div class="key"></div>
                <div class="key">â†‘ W</div>
                <div class="key"></div>
                <div class="key">â† A</div>
                <div class="key">â†“ S</div>
                <div class="key">â†’ D</div>
            </div>
            <p style="color: rgba(255,255,255,0.6); font-size: 0.8em; text-align: center; margin-top: 8px;">
                <span class="zh">æŒ‰ç©ºæ ¼æš‚åœ</span><span class="en">Space to Pause</span>
            </p>

            <div class="control-label" style="margin-top: 20px;"><span class="zh">ğŸ“Š ç»Ÿè®¡</span><span class="en">ğŸ“Š Stats</span></div>
            <div class="stats-list">
                <div class="stat-item">
                    <span><span class="zh">æ—¶é—´</span><span class="en">Time</span></span>
                    <span class="stat-value" id="gameTime">00:00</span>
                </div>
                <div class="stat-item">
                    <span><span class="zh">é£Ÿç‰©</span><span class="en">Food</span></span>
                    <span class="stat-value" id="foodEaten">0</span>
                </div>
                <div class="stat-item">
                    <span><span class="zh">æ­¥æ•°</span><span class="en">Moves</span></span>
                    <span class="stat-value" id="moves">0</span>
                </div>
                <div class="stat-item">
                    <span><span class="zh">é•¿åº¦</span><span class="en">Length</span></span>
                    <span class="stat-value" id="snakeLength">1</span>
                </div>
            </div>

            <div class="mobile-controls">
                <div class="control-label"><span class="zh">ğŸ“± è§¦å±</span><span class="en">ğŸ“± Touch</span></div>
                <div class="mobile-dpad">
                    <div class="key"></div>
                    <button class="mobile-btn" onclick="mobileMove(0,-1)">â†‘</button>
                    <div class="key"></div>
                    <button class="mobile-btn" onclick="mobileMove(-1,0)">â†</button>
                    <button class="mobile-btn" onclick="togglePause()">â¸ï¸</button>
                    <button class="mobile-btn" onclick="mobileMove(1,0)">â†’</button>
                    <div class="key"></div>
                    <button class="mobile-btn" onclick="mobileMove(0,1)">â†“</button>
                    <div class="key"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer with game links and legal info -->
    <div class="footer-nav">
        <h3><span class="zh">ğŸ® æ›´å¤šæ¸¸æˆ</span><span class="en">ğŸ® More Games</span></h3>
        <div class="footer-links">
            <a href="../index.html" class="footer-link" style="text-decoration: none;">
                ğŸ§± <span class="zh">ä¿„ç½—æ–¯æ–¹å—</span><span class="en">Tetris</span>
            </a>
            <a href="../mario-game/index.html" class="footer-link" style="text-decoration: none;">
                ğŸ„ <span class="zh">è¶…çº§é©¬åŠ›æ¬§</span><span class="en">Super Mario</span>
            </a>
        </div>
        <h3 style="margin-top: 25px;"><span class="zh">ğŸ“„ æ³•å¾‹ä¿¡æ¯</span><span class="en">ğŸ“„ Legal Information</span></h3>
        <div class="footer-links">
            <button class="footer-link" onclick="showModal('about')">
                <span class="zh">ğŸ‘‹ å…³äº</span><span class="en">About</span>
            </button>
            <button class="footer-link" onclick="showModal('privacy')">
                <span class="zh">ğŸ”’ éšç§</span><span class="en">Privacy</span>
            </button>
            <button class="footer-link" onclick="showModal('terms')">
                <span class="zh">ğŸ“œ æ¡æ¬¾</span><span class="en">Terms</span>
            </button>
            <button class="footer-link" onclick="showModal('cookies')">
                <span class="zh">ğŸª Cookie</span><span class="en">Cookies</span>
            </button>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div class="modal" id="gameOverModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <div class="modal-title">
                <span class="zh">ğŸ® æ¸¸æˆç»“æŸ</span><span class="en">ğŸ® Game Over</span>
            </div>
            <div class="modal-score" id="finalScore">0</div>
            <div class="modal-stats">
                <div><span class="zh">æ—¶é—´: </span><span class="en">Time: </span><span id="finalTime">00:00</span></div>
                <div><span class="zh">é£Ÿç‰©: </span><span class="en">Food: </span><span id="finalFood">0</span></div>
                <div><span class="zh">é•¿åº¦: </span><span class="en">Length: </span><span id="finalLength">1</span></div>
                <div><span class="zh">æœ€é«˜: </span><span class="en">Best: </span><span id="finalHighScore">0</span></div>
            </div>
            <div class="btn-group">
                <button class="btn" onclick="restartGame()">
                    <span class="zh">ğŸ”„ å†æ¥</span><span class="en">ğŸ”„ Again</span>
                </button>
                <button class="btn btn-danger" onclick="closeModal()">
                    <span class="zh">å…³é—­</span><span class="en">Close</span>
                </button>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal" id="aboutModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <div class="modal-title">
                <span class="zh">ğŸ‘‹ å…³äºæˆ‘ä»¬</span><span class="en">ğŸ‘‹ About Us</span>
            </div>
            <div class="modal-body">
                <p><span class="zh">æ¬¢è¿æ¥åˆ°è´ªåƒè›‡æ¸¸æˆï¼æˆ‘ä»¬æ˜¯ç‹¬ç«‹å¼€å‘è€…ï¼Œè‡´åŠ›äºåˆ›å»ºæœ‰è¶£çš„æ¸¸æˆã€‚</span><span class="en">Welcome to Snake Game! We are independent developers dedicated to creating fun games.</span></p>
                
                <h3><span class="zh">ğŸ® æˆ‘ä»¬çš„æ¸¸æˆ</span><span class="en">ğŸ® Our Games</span></h3>
                <ul>
                    <li><strong>ğŸ Snake Game</strong> - <span class="zh">åŒè¯­è´ªåƒè›‡æ¸¸æˆ</span><span class="en">Bilingual Snake Game</span></li>
                    <li><strong>ğŸ“° AI Daily News</strong> - <span class="zh">æ¯æ—¥ AI æ–°é—»èµ„è®¯</span><span class="en">Daily AI News</span></li>
                    <li><strong>ğŸ“– NovaReader</strong> - <span class="zh">æ™ºèƒ½é˜…è¯»å™¨</span><span class="en">Smart Reader</span></li>
                </ul>
                
                <div class="contact-box">
                    <h3><span class="zh">ğŸ“¬ è”ç³»æ–¹å¼</span><span class="en">ğŸ“¬ Contact</span></h3>
                    <p>ğŸ“§ <span class="zh">é‚®ç®±:</span><span class="en">Email:</span> <a href="mailto:wangfei499422978@gmail.com">wangfei499422978@gmail.com</a></p>
                    <p>ğŸ™ <span class="zh">GitHub:</span><span class="en">GitHub:</span> <a href="https://github.com/wangfeiwest2025" target="_blank">@wangfeiwest2025</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Modal -->
    <div class="modal" id="privacyModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <div class="modal-title">
                <span class="zh">ğŸ”’ éšç§æ”¿ç­–</span><span class="en">ğŸ”’ Privacy Policy</span>
            </div>
            <div class="modal-body">
                <p><span class="zh">æœ€åæ›´æ–°: 2026å¹´2æœˆ14æ—¥</span><span class="en">Last updated: February 14, 2026</span></p>
                
                <h2><span class="zh">1. å¼•è¨€</span><span class="en">1. Introduction</span></h2>
                <p><span class="zh">æˆ‘ä»¬é‡è§†æ‚¨çš„éšç§ã€‚æœ¬æ”¿ç­–è¯´æ˜äº†æˆ‘ä»¬å¦‚ä½•æ”¶é›†ã€ä½¿ç”¨å’Œä¿æŠ¤æ‚¨çš„æ•°æ®ã€‚</span><span class="en">We value your privacy. This policy explains how we collect, use, and protect your data.</span></p>
                
                <h2><span class="zh">2. æ”¶é›†çš„ä¿¡æ¯</span><span class="en">2. Information We Collect</span></h2>
                <ul>
                    <li><span class="zh">Cookies å’Œä½¿ç”¨æ•°æ®ï¼ˆæµè§ˆè®°å½•ã€IP åœ°å€ï¼‰</span><span class="en">Cookies and usage data (browsing history, IP address)</span></li>
                    <li><span class="zh">è®¾å¤‡ä¿¡æ¯ï¼ˆæµè§ˆå™¨ç±»å‹ã€æ“ä½œç³»ç»Ÿï¼‰</span><span class="en">Device information (browser type, OS)</span></li>
                </ul>
                
                <h2><span class="zh">3. Google AdSense</span><span class="en">3. Google AdSense</span></h2>
                <p><span class="zh">æˆ‘ä»¬ä½¿ç”¨ Google AdSense å±•ç¤ºå¹¿å‘Šã€‚Google ä½¿ç”¨ Cookie å±•ç¤ºä¸ªæ€§åŒ–å¹¿å‘Šã€‚äº†è§£æ›´å¤š:</span><span class="en">We use Google AdSense to display ads. Google uses cookies for personalized ads. Learn more:</span> <a href="https://www.google.com/policies/privacy/partners/" target="_blank">Google Privacy Policy</a></p>
                <p><span class="zh">æ‚¨å¯ä»¥åœ¨</span><span class="en">You can manage ads at</span> <a href="https://myadcenter.google.com/" target="_blank">Google Ad Settings</a> <span class="zh">ç®¡ç†å¹¿å‘Šåå¥½</span><span class="en">to manage ad preferences</span></p>
                
                <h2><span class="zh">4. æ‚¨çš„æƒåˆ©</span><span class="en">4. Your Rights</span></h2>
                <ul>
                    <li><span class="zh">è®¿é—®æ‚¨çš„æ•°æ®</span><span class="en">Access your data</span></li>
                    <li><span class="zh">æ›´æ­£ä¸å‡†ç¡®çš„ä¿¡æ¯</span><span class="en">Correct inaccurate information</span></li>
                    <li><span class="zh">è¯·æ±‚åˆ é™¤æ•°æ®</span><span class="en">Request data deletion</span></li>
                </ul>
                
                <div class="contact-box">
                    <h3><span class="zh">ğŸ“¬ è”ç³»æˆ‘ä»¬</span><span class="en">ğŸ“¬ Contact Us</span></h3>
                    <p>ğŸ“§ <span class="zh">é‚®ç®±:</span><span class="en">Email:</span> <a href="mailto:wangfei499422978@gmail.com">wangfei499422978@gmail.com</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div class="modal" id="termsModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <div class="modal-title">
                <span class="zh">ğŸ“œ ä½¿ç”¨æ¡æ¬¾</span><span class="en">ğŸ“œ Terms of Service</span>
            </div>
            <div class="modal-body">
                <p><span class="zh">æœ€åæ›´æ–°: 2026å¹´2æœˆ14æ—¥</span><span class="en">Last updated: February 14, 2026</span></p>
                
                <h2><span class="zh">1. æ¥å—æ¡æ¬¾</span><span class="en">1. Acceptance</span></h2>
                <p><span class="zh">ä½¿ç”¨æˆ‘ä»¬çš„ç½‘ç«™å³è¡¨ç¤ºæ‚¨æ¥å—è¿™äº›æ¡æ¬¾ã€‚</span><span class="en">Using our website means you accept these terms.</span></p>
                
                <h2><span class="zh">2. ä½¿ç”¨è®¸å¯</span><span class="en">2. License</span></h2>
                <p><span class="zh">æ‚¨å¯ä»¥æµè§ˆå’Œä¸‹è½½å†…å®¹ç”¨äºä¸ªäººã€éå•†ä¸šç”¨é€”ã€‚</span><span class="en">You may browse and download content for personal, non-commercial use.</span></p>
                
                <h2><span class="zh">3. ç¦æ­¢è¡Œä¸º</span><span class="en">3. Prohibited</span></h2>
                <ul>
                    <li><span class="zh">å¤åˆ¶å†…å®¹ç”¨äºå•†ä¸šç›®çš„</span><span class="en">Copy content for commercial purposes</span></li>
                    <li><span class="zh">å¹²æ‰°ç½‘ç«™æ­£å¸¸è¿è¡Œ</span><span class="en">Interfere with website operation</span></li>
                    <li><span class="zh">å‘å¸ƒéæ³•æˆ–æ¬ºè¯ˆæ€§å†…å®¹</span><span class="en">Post illegal or fraudulent content</span></li>
                </ul>
                
                <h2><span class="zh">4. å…è´£å£°æ˜</span><span class="en">4. Disclaimer</span></h2>
                <p style="background: rgba(255,193,7,0.2); padding: 15px; border-radius: 8px;"><strong><span class="zh">ç½‘ç«™æŒ‰"åŸæ ·"æä¾›ã€‚æˆ‘ä»¬ä¸ä¿è¯ç½‘ç«™æ— ä¸­æ–­æˆ–å®Œå…¨å®‰å…¨ã€‚</span><span class="en">Website is provided "as is". We don't guarantee uninterrupted or fully secure service.</span></strong></p>
                
                <h2><span class="zh">5. å¹¿å‘Š</span><span class="en">5. Advertising</span></h2>
                <p><span class="zh">æˆ‘ä»¬çš„ç½‘ç«™å±•ç¤º Google AdSense å¹¿å‘Šã€‚æˆ‘ä»¬ä¸å¯¹å¹¿å‘Šå†…å®¹è´Ÿè´£ã€‚</span><span class="en">Our website displays Google AdSense ads. We are not responsible for ad content.</span></p>
                
                <div class="contact-box">
                    <h3><span class="zh">ğŸ“¬ è”ç³»æˆ‘ä»¬</span><span class="en">ğŸ“¬ Contact Us</span></h3>
                    <p>ğŸ“§ <span class="zh">é‚®ç®±:</span><span class="en">Email:</span> <a href="mailto:wangfei499422978@gmail.com">wangfei499422978@gmail.com</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Cookies Modal -->
    <div class="modal" id="cookiesModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <div class="modal-title">
                <span class="zh">ğŸª Cookie æ”¿ç­–</span><span class="en">ğŸª Cookie Policy</span>
            </div>
            <div class="modal-body">
                <p><span class="zh">æœ€åæ›´æ–°: 2026å¹´2æœˆ14æ—¥</span><span class="en">Last updated: February 14, 2026</span></p>
                
                <h2><span class="zh">1. ä»€ä¹ˆæ˜¯ Cookie</span><span class="en">1. What Are Cookies</span></h2>
                <p><span class="zh">Cookie æ˜¯å­˜å‚¨åœ¨æ‚¨è®¾å¤‡ä¸Šçš„å°å‹æ–‡æœ¬æ–‡ä»¶ï¼Œå¸®åŠ©ç½‘ç«™æ­£å¸¸è¿è¡Œã€‚</span><span class="en">Cookies are small text files stored on your device to help websites function properly.</span></p>
                
                <h2><span class="zh">2. æˆ‘ä»¬ä½¿ç”¨çš„ Cookie</span><span class="en">2. Cookies We Use</span></h2>
                <ul>
                    <li><strong><span class="zh">å¿…è¦ Cookie:</span><span class="en">Necessary:</span></strong> <span class="zh">ç½‘ç«™åŸºæœ¬åŠŸèƒ½</span><span class="en">Basic functions</span></li>
                    <li><strong><span class="zh">åˆ†æ Cookie:</span><span class="en">Analytics:</span></strong> <span class="zh">äº†è§£è®¿é—®è¡Œä¸º</span><span class="en">Understand usage</span></li>
                    <li><strong><span class="zh">å¹¿å‘Š Cookie:</span><span class="en">Ads:</span></strong> <span class="zh">ä¸ªæ€§åŒ–å¹¿å‘Š (Google AdSense)</span><span class="en">Personalized ads (Google AdSense)</span></li>
                </ul>
                
                <h2><span class="zh">3. Google AdSense Cookie</span><span class="en">3. Google AdSense Cookies</span></h2>
                <ul>
                    <li><strong>NID</strong> - <span class="zh">å­˜å‚¨åå¥½å’Œå¹¿å‘Š</span><span class="en">Store preferences and ads</span></li>
                    <li><strong>IDE</strong> - <span class="zh">å¹¿å‘Šå±•ç¤ºå’Œè¿½è¸ª</span><span class="en">Ad delivery and tracking</span></li>
                </ul>
                
                <h2><span class="zh">4. ç®¡ç† Cookie</span><span class="en">4. Manage Cookies</span></h2>
                <p><span class="zh">æ‚¨å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¾ç½®ç¦ç”¨ Cookieï¼š</span><span class="en">You can disable cookies in browser settings:</span></p>
                <ul>
                    <li><span class="zh">Chrome: è®¾ç½® â†’ éšç§ â†’ Cookies</span><span class="en">Chrome: Settings â†’ Privacy â†’ Cookies</span></li>
                    <li><span class="zh">Safari: åå¥½è®¾ç½® â†’ éšç§</span><span class="en">Safari: Preferences â†’ Privacy</span></li>
                    <li><span class="zh">Firefox: è®¾ç½® â†’ éšç§</span><span class="en">Firefox: Settings â†’ Privacy</span></li>
                </ul>
                
                <div class="contact-box">
                    <h3><span class="zh">ğŸ“¬ è”ç³»æˆ‘ä»¬</span><span class="en">ğŸ“¬ Contact Us</span></h3>
                    <p>ğŸ“§ <span class="zh">é‚®ç®±:</span><span class="en">Email:</span> <a href="mailto:wangfei499422978@gmail.com">wangfei499422978@gmail.com</a></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Language
        let lang = 'zh';
        function toggleLang() {
            lang = lang === 'zh' ? 'en' : 'zh';
            document.body.className = 'lang-' + lang;
        }

        // Modal functions
        function showModal(type) {
            document.querySelectorAll('.modal').forEach(m => m.classList.remove('show'));
            document.getElementById(type + 'Modal').classList.add('show');
        }
        function closeModal() {
            document.querySelectorAll('.modal').forEach(m => m.classList.remove('show'));
        }
        document.querySelectorAll('.modal').forEach(m => {
            m.addEventListener('click', e => {
                if (e.target === m) closeModal();
            });
        });

        // Audio
        let audioCtx = null, soundOn = true;
        function initAudio() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }
        function beep(freq, dur) {
            if (!soundOn || !audioCtx) return;
            try {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.frequency.value = freq;
                gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + dur);
                osc.start();
                osc.stop(audioCtx.currentTime + dur);
            } catch(e) {}
        }
        function toggleSound() { soundOn = !soundOn; document.querySelector('.sound-toggle').textContent = soundOn?'ğŸ”Š':'ğŸ”‡'; }
        function sounds() { beep(600,0.08); setTimeout(()=>beep(800,0.08),80); }
        function levelup() { beep(500,0.08); setTimeout(()=>beep(700,0.08),80); setTimeout(()=>beep(900,0.15),160); }
        function over() { beep(400,0.15); setTimeout(()=>beep(300,0.15),150); setTimeout(()=>beep(200,0.25),300); }

        // Game
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const grid = 20, tile = canvas.width / grid;
        let snake = [], food = {}, dir = {x:0,y:0}, next = {x:0,y:0};
        let score = 0, best = 0, level = 1;
        let running = false, paused = false, loop = null;
        let speed = 120, startTime = 0, eaten = 0, moves = 0;
        let difficulty = 'easy';

        best = parseInt(localStorage.getItem('snakeBest') || 0);
        updateUI();

        function startGame() {
            initAudio();
            snake = [{x:Math.floor(tile/2), y:Math.floor(tile/2)}];
            dir = {x:0,y:0};
            next = {x:0,y:0};
            score = 0; level = 1; eaten = 0; moves = 0;
            startTime = Date.now();
            running = true; paused = false;
            setDiff(difficulty);
            genFood();
            document.getElementById('startBtn').innerHTML = lang==='zh' ? '<span class="zh">ğŸ”„ é‡æ¥</span><span class="en">ğŸ”„ Restart</span>' : '<span class="zh">ğŸ”„ é‡æ¥</span><span class="en">ğŸ”„ Restart</span>';
            document.getElementById('startBtn').onclick = restartGame;
            document.getElementById('pauseBtn').disabled = false;
            document.getElementById('pauseOverlay').style.display = 'none';
            closeModal();
            if(loop) clearInterval(loop);
            loop = setInterval(update, speed);
        }

        function restartGame() { if(loop) clearInterval(loop); startGame(); }

        function togglePause() {
            if(!running) return;
            paused = !paused;
            const btn = document.getElementById('pauseBtn');
            const overlay = document.getElementById('pauseOverlay');
            if(paused) {
                btn.innerHTML = lang==='zh' ? '<span class="zh">â–¶ï¸ ç»§ç»­</span><span class="en">â–¶ï¸ Resume</span>' : '<span class="zh">â–¶ï¸ ç»§ç»­</span><span class="en">â–¶ï¸ Resume</span>';
                overlay.style.display = 'flex';
                clearInterval(loop);
            } else {
                btn.innerHTML = lang==='zh' ? '<span class="zh">â¸ï¸ æš‚åœ</span><span class="en">â¸ï¸ Pause</span>' : '<span class="zh">â¸ï¸ æš‚åœ</span><span class="en">â¸ï¸ Pause</span>';
                overlay.style.display = 'none';
                loop = setInterval(update, speed);
            }
        }

        function setDiff(d) {
            difficulty = d;
            document.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
            document.getElementById(d+'Btn').classList.add('active');
            speed = d==='easy'?150:d==='normal'?100:70;
            if(running && !paused) { clearInterval(loop); loop = setInterval(update, speed); }
        }

        function mobileMove(x,y) {
            if(!running || paused) return;
            if(dir.x===0 && dir.y!==y) next = {x,y};
            else if(dir.y===0 && dir.x!==x) next = {x,y};
        }

        function genFood() {
            do {
                food = {x:Math.floor(Math.random()*tile), y:Math.floor(Math.random()*tile)};
            } while(snake.some(s => s.x===food.x && s.y===food.y));
        }

        function update() {
            if(paused) return;
            dir = {...next};
            if(dir.x===0 && dir.y===0) { draw(); updateStats(); return; }
            
            const head = {x:snake[0].x+dir.x, y:snake[0].y+dir.y};
            if(head.x<0||head.x>=tile||head.y<0||head.y>=tile||snake.some(s=>s.x===head.x&&s.y===head.y)) {
                endGame(); return;
            }
            
            snake.unshift(head);
            moves++;
            if(head.x===food.x && head.y===food.y) {
                score += 10; eaten++; sounds(); genFood();
                const newLevel = Math.floor(score/100)+1;
                if(newLevel>level) { level=newLevel; levelup(); if(speed>50){speed-=5; clearInterval(loop); loop=setInterval(update,speed);} }
            } else { snake.pop(); }
            
            draw(); updateUI(); updateStats();
        }

        function endGame() {
            running = false; clearInterval(loop); over();
            if(score>best) { best=score; localStorage.setItem('snakeBest',best); }
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalTime').textContent = fmt(Date.now()-startTime);
            document.getElementById('finalFood').textContent = eaten;
            document.getElementById('finalLength').textContent = snake.length;
            document.getElementById('finalHighScore').textContent = best;
            document.getElementById('gameOverModal').classList.add('show');
            document.getElementById('startBtn').innerHTML = lang==='zh' ? '<span class="zh">ğŸ® å¼€å§‹</span><span class="en">ğŸ® Start</span>' : '<span class="zh">ğŸ® å¼€å§‹</span><span class="en">ğŸ® Start</span>';
            document.getElementById('startBtn').onclick = startGame;
            document.getElementById('pauseBtn').disabled = true;
        }

        function draw() {
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0,0,canvas.width,canvas.height);
            
            // Grid
            ctx.strokeStyle = 'rgba(102,126,234,0.1)';
            for(let i=0;i<=tile;i++) {
                ctx.beginPath(); ctx.moveTo(i*grid,0); ctx.lineTo(i*grid,canvas.height); ctx.stroke();
                ctx.beginPath(); ctx.moveTo(0,i*grid); ctx.lineTo(canvas.width,i*grid); ctx.stroke();
            }
            
            // Food
            const g = ctx.createRadialGradient(food.x*grid+grid/2, food.y*grid+grid/2, 0, food.x*grid+grid/2, food.y*grid+grid/2, grid/2-2);
            g.addColorStop(0,'#ff6b6b'); g.addColorStop(1,'#ee5a5a');
            ctx.fillStyle = g;
            ctx.beginPath(); ctx.arc(food.x*grid+grid/2, food.y*grid+grid/2, grid/2-2, 0, Math.PI*2); ctx.fill();
            
            // Snake
            snake.forEach((s,i) => {
                const h = i===0;
                const hue = 280 + (i/snake.length)*40;
                const a = 1 - (i/snake.length)*0.4;
                ctx.fillStyle = h ? '#00d4ff' : `hsla(${hue},70%,60%,${a})`;
                ctx.beginPath();
                ctx.roundRect(s.x*grid+1, s.y*grid+1, grid-2, grid-2, h?8:5);
                ctx.fill();
                if(h) drawEyes(s.x,s.y);
            });
        }

        function drawEyes(x,y) {
            const es = 3, cx=x*grid+grid/2, cy=y*grid+grid/2;
            ctx.fillStyle = 'white';
            let ex1,ey1,ex2,ey2;
            if(dir.x===1) { ex1=cx+2; ey1=cy-3; ex2=cx+2; ey2=cy+3; }
            else if(dir.x===-1) { ex1=cx-2; ey1=cy-3; ex2=cx-2; ey2=cy+3; }
            else if(dir.y===-1) { ex1=cx-3; ey1=cy-2; ex2=cx+3; ey2=cy-2; }
            else { ex1=cx-3; ey1=cy+2; ex2=cx+3; ey2=cy+2; }
            ctx.beginPath(); ctx.arc(ex1,ey1,es,0,Math.PI*2); ctx.arc(ex2,ey2,es,0,Math.PI*2); ctx.fill();
            ctx.fillStyle = '#333';
            ctx.beginPath(); ctx.arc(ex1,ey1,1.5,0,Math.PI*2); ctx.arc(ex2,ey2,1.5,0,Math.PI*2); ctx.fill();
        }

        function updateUI() {
            document.getElementById('score').textContent = score;
            document.getElementById('highScore').textContent = best;
            document.getElementById('level').textContent = level;
        }

        function updateStats() {
            document.getElementById('gameTime').textContent = fmt(Date.now()-startTime);
            document.getElementById('foodEaten').textContent = eaten;
            document.getElementById('moves').textContent = moves;
            document.getElementById('snakeLength').textContent = snake.length;
        }

        function fmt(ms) {
            const s=Math.floor(ms/1000), m=Math.floor(s/60);
            return `${m.toString().padStart(2,'0')}:${(s%60).toString().padStart(2,'0')}`;
        }

        document.addEventListener('keydown', e => {
            if(!running && (e.key===' '||e.key==='Enter')) { startGame(); return; }
            if(e.key===' ') { e.preventDefault(); togglePause(); return; }
            if(paused) return;
            switch(e.key) {
                case'ArrowUp': case'w': case'W': if(dir.y!==1) next={x:0,y:-1}; e.preventDefault(); break;
                case'ArrowDown': case's': case'S': if(dir.y!==-1) next={x:0,y:1}; e.preventDefault(); break;
                case'ArrowLeft': case'a': case'A': if(dir.x!==1) next={x:-1,y:0}; e.preventDefault(); break;
                case'ArrowRight': case'd': case'D': if(dir.x!==-1) next={x:1,y:0}; e.preventDefault(); break;
            }
        });

        // è§¦æ‘¸æ§åˆ¶
        let touchStartX = 0;
        canvas.addEventListener('touchstart', function(e) {
            e.preventDefault();
            touchStartX = e.touches[0].clientX;
            if (!running) startGame();
        }, { passive: false });

        canvas.addEventListener('touchmove', function(e) {
            e.preventDefault();
        }, { passive: false });

        canvas.addEventListener('touchend', function(e) {
            e.preventDefault();
            if (!running || paused) return;
            let touchEndX = e.changedTouches[0].clientX;
            let diff = touchEndX - touchStartX;
            if (Math.abs(diff) > 30) {
                if (diff > 0 && dir.x !== -1) next = { x: 1, y: 0 };
                else if (diff < 0 && dir.x !== 1) next = { x: -1, y: 0 };
            }
        }, { passive: false });

        // æ‰‹æœºç«¯ç‚¹å‡»å±å¹•åŒºåŸŸåˆ‡æ¢æ–¹å‘
        canvas.addEventListener('click', function(e) {
            if (!running || paused) return;
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const centerX = rect.width / 2;
            if (x < centerX - 50 && dir.x !== 1) next = { x: -1, y: 0 };
            else if (x > centerX + 50 && dir.x !== -1) next = { x: 1, y: 0 };
        });

        draw();
    </script>
</body>
</html>